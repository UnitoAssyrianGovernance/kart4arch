<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A tutorial for versioning archaeological data using Kart</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<meta name="citation_title" content="A tutorial for versioning archaeological data using Kart">
<meta name="citation_author" content="Andrea Titolo">
<meta name="citation_author" content="Alessio Palmisano">
<meta name="citation_language" content="en">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">A tutorial for versioning archaeological data using Kart</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Andrea Titolo <a href="mailto:andrea.titolo@unito.it" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-7322-8634" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Department of Historic Studies, University of Turin, Turin, Italy
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Alessio Palmisano <a href="https://orcid.org/0000-0003-0758-5032" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Department of Historic Studies, University of Turin, Turin, Italy
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      <div class="quarto-alternate-formats"><div class="quarto-title-meta-heading">Other Formats</div><div class="quarto-title-meta-contents"><p><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></p></div><div class="quarto-title-meta-contents"><p><a href="index-agu.pdf"><i class="bi bi-file-pdf"></i>PDF</a></p></div><div class="quarto-title-meta-contents"><p><a href="index-meca.zip" data-meca-link="true"><i class="bi bi-archive"></i>MECA Bundle</a></p></div></div></div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#foreword" id="toc-foreword" class="nav-link active" data-scroll-target="#foreword"><span class="header-section-number">1</span> Foreword</a>
  <ul class="collapse">
  <li><a href="#sec-requirements" id="toc-sec-requirements" class="nav-link" data-scroll-target="#sec-requirements"><span class="header-section-number">1.1</span> Requirements</a></li>
  </ul></li>
  <li><a href="#sec-getting-started" id="toc-sec-getting-started" class="nav-link" data-scroll-target="#sec-getting-started"><span class="header-section-number">2</span> Getting Started</a>
  <ul class="collapse">
  <li><a href="#sec-install-kart" id="toc-sec-install-kart" class="nav-link" data-scroll-target="#sec-install-kart"><span class="header-section-number">2.1</span> Install Kart</a></li>
  </ul></li>
  <li><a href="#sec-getting-started-kart" id="toc-sec-getting-started-kart" class="nav-link" data-scroll-target="#sec-getting-started-kart"><span class="header-section-number">3</span> Getting Started with Kart</a>
  <ul class="collapse">
  <li><a href="#sec-setup" id="toc-sec-setup" class="nav-link" data-scroll-target="#sec-setup"><span class="header-section-number">3.1</span> Set up</a></li>
  <li><a href="#sec-https-ssh" id="toc-sec-https-ssh" class="nav-link" data-scroll-target="#sec-https-ssh"><span class="header-section-number">3.2</span> A word about HTTPS and SSH</a>
  <ul class="collapse">
  <li><a href="#generating-ssh-keys-optional" id="toc-generating-ssh-keys-optional" class="nav-link" data-scroll-target="#generating-ssh-keys-optional"><span class="header-section-number">3.2.1</span> Generating SSH keys (Optional)</a></li>
  </ul></li>
  <li><a href="#sec-kart-empty" id="toc-sec-kart-empty" class="nav-link" data-scroll-target="#sec-kart-empty"><span class="header-section-number">3.3</span> Example 1: use an empty Kart repository</a>
  <ul class="collapse">
  <li><a href="#download-data" id="toc-download-data" class="nav-link" data-scroll-target="#download-data"><span class="header-section-number">3.3.1</span> Download data</a></li>
  <li><a href="#sec-kart-import" id="toc-sec-kart-import" class="nav-link" data-scroll-target="#sec-kart-import"><span class="header-section-number">3.3.2</span> Import data in Kart</a></li>
  </ul></li>
  <li><a href="#sec-clone-repo" id="toc-sec-clone-repo" class="nav-link" data-scroll-target="#sec-clone-repo"><span class="header-section-number">3.4</span> Example 2: Clone an existing Kart repository</a>
  <ul class="collapse">
  <li><a href="#sec-clone" id="toc-sec-clone" class="nav-link" data-scroll-target="#sec-clone"><span class="header-section-number">3.4.1</span> Clone the repository</a></li>
  </ul></li>
  <li><a href="#sec-working-kart" id="toc-sec-working-kart" class="nav-link" data-scroll-target="#sec-working-kart"><span class="header-section-number">3.5</span> Working with Kart</a>
  <ul class="collapse">
  <li><a href="#sec-kart-plugin-install" id="toc-sec-kart-plugin-install" class="nav-link" data-scroll-target="#sec-kart-plugin-install"><span class="header-section-number">3.5.1</span> Install the Kart QGIS Plugin</a></li>
  <li><a href="#set-up-the-plugin" id="toc-set-up-the-plugin" class="nav-link" data-scroll-target="#set-up-the-plugin"><span class="header-section-number">3.5.2</span> Set up the plugin</a></li>
  <li><a href="#connect-to-a-local-repository" id="toc-connect-to-a-local-repository" class="nav-link" data-scroll-target="#connect-to-a-local-repository"><span class="header-section-number">3.5.3</span> Connect to a local repository</a></li>
  <li><a href="#load-data-inside-the-project" id="toc-load-data-inside-the-project" class="nav-link" data-scroll-target="#load-data-inside-the-project"><span class="header-section-number">3.5.4</span> Load data inside the project</a></li>
  <li><a href="#sec-add-geom" id="toc-sec-add-geom" class="nav-link" data-scroll-target="#sec-add-geom"><span class="header-section-number">3.5.5</span> Add new geometry to existing layers</a></li>
  <li><a href="#edit-an-existing-geometry" id="toc-edit-an-existing-geometry" class="nav-link" data-scroll-target="#edit-an-existing-geometry"><span class="header-section-number">3.5.6</span> Edit an existing geometry</a></li>
  <li><a href="#inspect-working-copy-changes" id="toc-inspect-working-copy-changes" class="nav-link" data-scroll-target="#inspect-working-copy-changes"><span class="header-section-number">3.5.7</span> Inspect working copy changes</a></li>
  <li><a href="#commit-working-copy-changes" id="toc-commit-working-copy-changes" class="nav-link" data-scroll-target="#commit-working-copy-changes"><span class="header-section-number">3.5.8</span> Commit working copy changes</a></li>
  <li><a href="#inspect-the-commit-tree" id="toc-inspect-the-commit-tree" class="nav-link" data-scroll-target="#inspect-the-commit-tree"><span class="header-section-number">3.5.9</span> Inspect the commit tree</a></li>
  <li><a href="#inspect-changes-introduced-in-a-specific-commit-and-other-options" id="toc-inspect-changes-introduced-in-a-specific-commit-and-other-options" class="nav-link" data-scroll-target="#inspect-changes-introduced-in-a-specific-commit-and-other-options"><span class="header-section-number">3.5.10</span> Inspect changes introduced in a specific commit (and other options)</a></li>
  </ul></li>
  <li><a href="#sec-collaboration" id="toc-sec-collaboration" class="nav-link" data-scroll-target="#sec-collaboration"><span class="header-section-number">3.6</span> Collaborating with Kart</a>
  <ul class="collapse">
  <li><a href="#sec-branching" id="toc-sec-branching" class="nav-link" data-scroll-target="#sec-branching"><span class="header-section-number">3.6.1</span> Branching</a></li>
  <li><a href="#sec-merging" id="toc-sec-merging" class="nav-link" data-scroll-target="#sec-merging"><span class="header-section-number">3.6.2</span> Merging</a></li>
  <li><a href="#sec-conflicts" id="toc-sec-conflicts" class="nav-link" data-scroll-target="#sec-conflicts"><span class="header-section-number">3.6.3</span> Dealing with conflicts</a></li>
  <li><a href="#push-changes-to-a-remote-repository" id="toc-push-changes-to-a-remote-repository" class="nav-link" data-scroll-target="#push-changes-to-a-remote-repository"><span class="header-section-number">3.6.4</span> Push changes to a remote repository</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#tips" id="toc-tips" class="nav-link" data-scroll-target="#tips"><span class="header-section-number">4</span> Tips</a>
  <ul class="collapse">
  <li><a href="#selective-import-tables" id="toc-selective-import-tables" class="nav-link" data-scroll-target="#selective-import-tables"><span class="header-section-number">4.1</span> <strong>Selective import tables</strong></a></li>
  <li><a href="#rename-data-on-import" id="toc-rename-data-on-import" class="nav-link" data-scroll-target="#rename-data-on-import"><span class="header-section-number">4.2</span> <strong>Rename data on import</strong></a></li>
  <li><a href="#create-data-from-qgis-and-start-version-them-with-kart" id="toc-create-data-from-qgis-and-start-version-them-with-kart" class="nav-link" data-scroll-target="#create-data-from-qgis-and-start-version-them-with-kart"><span class="header-section-number">4.3</span> <strong>Create data from QGIS and start version them with kart</strong></a>
  <ul class="collapse">
  <li><a href="#a-note-on-the-commit-message-when-running-kart-add-dataset" id="toc-a-note-on-the-commit-message-when-running-kart-add-dataset" class="nav-link" data-scroll-target="#a-note-on-the-commit-message-when-running-kart-add-dataset"><span class="header-section-number">4.3.1</span> A note on the commit message when running <code>kart add-dataset</code></a></li>
  <li><a href="#addendum---layer-styles" id="toc-addendum---layer-styles" class="nav-link" data-scroll-target="#addendum---layer-styles"><span class="header-section-number">4.3.2</span> Addendum - layer styles</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#sec-resources" id="toc-sec-resources" class="nav-link" data-scroll-target="#sec-resources"><span class="header-section-number">5</span> Useful Resources</a>
  <ul class="collapse">
  <li><a href="#documentation" id="toc-documentation" class="nav-link" data-scroll-target="#documentation"><span class="header-section-number">5.1</span> Documentation</a></li>
  <li><a href="#other-resources" id="toc-other-resources" class="nav-link" data-scroll-target="#other-resources"><span class="header-section-number">5.2</span> Other resources</a>
  <ul class="collapse">
  <li><a href="#presentations-about-kart" id="toc-presentations-about-kart" class="nav-link" data-scroll-target="#presentations-about-kart"><span class="header-section-number">5.2.1</span> Presentations about kart</a></li>
  <li><a href="#guides-and-tutorials-about-git" id="toc-guides-and-tutorials-about-git" class="nav-link" data-scroll-target="#guides-and-tutorials-about-git"><span class="header-section-number">5.2.2</span> Guides and tutorials about Git</a></li>
  <li><a href="#qgis" id="toc-qgis" class="nav-link" data-scroll-target="#qgis"><span class="header-section-number">5.2.3</span> QGIS</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<section id="foreword" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Foreword</h1>
<p><u>The following tutorial have been successfully reproduced on macOS 12 and 13 (Monterey and Ventura), and Pop! OS 22.04 (Ubuntu-based).</u></p>
<p>Please see the requirements below (<a href="#sec-requirements" class="quarto-xref">Section&nbsp;1.1</a>) and the useful links (<a href="#sec-resources" class="quarto-xref">Section&nbsp;5</a>) for external resources or tutorials.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When using text in CAPITAL_LETTERS inside a code block/line, it usually means that you need to replace those with your own variables. For example, for a code like <code>mkdir YOUR_FOLDER_NAME</code>, if you want your folder to be called <code>kart_example</code>, you will need to write <code>mkdir kart_example</code>.</p>
</div>
</div>
<p>During the Getting Started (<a href="#sec-getting-started" class="quarto-xref">Section&nbsp;2</a>) and Getting Started with Kart (<a href="#sec-getting-started-kart" class="quarto-xref">Section&nbsp;3</a>) sections, the examples will provide mostly terminal commands, since it will be impossible to provide instructions for all the existing graphical file managers (e.g.&nbsp;Finder, Windows Explorer, Dolphin, Nautilus, etc.). You can use a graphical file manager, of course, the textual documentation should be clear enough for that workflow too. Kart commands (identified by the <code>kart</code> prefix) should of course be run in the terminal.</p>
<p>In the Working with Kart (<a href="#sec-working-kart" class="quarto-xref">Section&nbsp;3.5</a>) section, we will instead use the graphical plugin for QGIS but, when possible, corresponding terminal commands will be given. If you are unsure about some commands, the <a href="https://docs.kartproject.org/en/latest/pages/command_reference.html">kart command reference</a> is an excellent documentation, otherwise man pages are available for individual commands using <code>kart COMMAND --help</code>, e.g.&nbsp;<code>kart status --help</code>.</p>
<p>While Kart can <a href="https://docs.kartproject.org/en/latest/pages/raster_datasets.html">also be used to version raster data</a>, this tutorial will only cover the vector dataset usage.</p>
<p>We use Github here as our git forge and we will usually mention it throughout the text. However, it is completely possible to reproduce this tutorial on other forges such as Gitlab or Codeberg. When possible we will mention guides for those forges as well.</p>
<p>While this tutorial is focused on QGIS, editing with ArcGIS/GDAL, etc. is supported by kart, although you will not have access to the graphical plugin.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We noticed some difficulties in getting kart to work properly on older versions of macOS, likely because of outdated versions of git, xcode, xcode command line tools, etc. For a smoother experience we recommend using <strong>AT LEAST</strong> macOS 12 (Monterey) and XCode 13.</p>
<p>On Linux, if you are running the Flatpak version of QGIS, the kart plugin (see below) might have problems finding the kart binary. Switching to a different version of QGIS (e.g.&nbsp;following <a href="https://qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu">these instructions</a>) seems to solve the issue, otherwise you might need to see if the issue can be solved using some apps such as <a href="https://github.com/tchx84/Flatseal">Flatseal</a>.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>While this tutorial is presented here in a stable state, it is by no means finalized, we will keep adding and correcting things based on our continuing experience with kart and the evolution of kart itself.</p>
</div>
</div>
<section id="sec-requirements" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sec-requirements"><span class="header-section-number">1.1</span> Requirements</h2>
<p>To avoid an endless guide, the instructions and tutorial below assumes the following:</p>
<ul>
<li><p>You are familiar with git and you have git installed on your machine (there are many guides available online, for example <a href="https://dev.to/jitendrachoudhary/understanding-git-a-beginners-guide-to-version-control-with-visuals-5cbf">de1v.to</a>, or <a href="https://www.atlassian.com/git">Atlassian</a>, or <a href="https://rogerdudler.github.io/git-guide/index.html">this other one</a>). If you don’t have git installed, please follow the instruction <a href="https://git-scm.com/">on the Git website</a>.</p></li>
<li><p>You have at least one authenticated profile for Github (see <a href="https://docs.github.com/en/get-started/getting-started-with-git" class="uri">https://docs.github.com/en/get-started/getting-started-with-git</a>) or for your git forge of choice (e.g.&nbsp;).</p></li>
<li><p>You are are familiar or at least not afraid of using a terminal application (e.g.&nbsp;Terminal.app, Powershell, Konsole, Gnome Terminal, Kitty, Wezterm, Alacritty).</p></li>
<li><p>You are familiar with QGIS and its interface, and you have <strong>QGIS 3.16 or higher</strong> installed on your machine (otherwise please install it from the <a href="https://qgis.org">QGIS website</a>).</p></li>
</ul>
</section>
</section>
<section id="sec-getting-started" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Getting Started</h1>
<section id="sec-install-kart" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="sec-install-kart"><span class="header-section-number">2.1</span> Install Kart</h2>
<p>Go to <a href="https://kartproject.org/" class="uri">https://kartproject.org/</a> and in the dropdown menu under “Download for your OS” select the appropriate package for your OS. Then, open the file and follow the instruction to install the software.</p>
<p>Alternatively, platform specific instructions follows below. These instructions are taken from the <a href="https://docs.kartproject.org/en/latest/pages/quick_guide.html#installing">kart official documentation</a>, <u>please always double check</u> the source website before running terminal commands:</p>
<p><strong>Windows</strong></p>
<p>Download the .msi installer from the <a href="https://github.com/koordinates/kart/releases">release page</a>.</p>
<p><strong>macOS</strong></p>
<p>Download the .pkg installer from the <a href="https://github.com/koordinates/kart/releases">release page</a>.</p>
<p>Or use Homebrew to install: <code>brew install koordinates/kart/kart --cask</code></p>
<p><strong>Linux</strong></p>
<p>For Debian/Ubuntu-based distributions, download the .deb package from the <a href="https://github.com/koordinates/kart/releases">release page</a> and install via <code>dpkg -i kart_*.deb</code></p>
<p>For RPM-based distributions, download the .rpm package from the <a href="https://github.com/koordinates/kart/releases">release page</a> and install via <code>rpm -i kart-*.rpm</code></p>
<p><strong>Testing install</strong></p>
<p>Test your install by running <code>kart --version</code> in your terminal. If you want, you can follow the <a href="https://docs.kartproject.org/en/latest/pages/quick_guide.html#create-a-new-repository-import-dataset">Quick Start guide</a> in kart documentation and running <code>kart status</code> at one point.</p>
</section>
</section>
<section id="sec-getting-started-kart" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Getting Started with Kart</h1>
<section id="sec-setup" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="sec-setup"><span class="header-section-number">3.1</span> Set up</h2>
<p><u><strong>If you have never used git</strong></u> you should run the following commands (replacing the quoted text with your actual information):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> config <span class="at">--global</span> user.email <span class="st">"you@example.com"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> config <span class="at">--global</span> user.name <span class="st">"Your Name"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To understand what the above do, you can take a look at the <a href="https://docs.github.com/en/get-started/getting-started-with-git/set-up-git#setting-up-git">Getting Started with Git</a> guide from the Github Docs, specifically the parts about <a href="https://docs.github.com/en/get-started/getting-started-with-git/setting-your-username-in-git">Setting up your username</a> and your <a href="https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address">commit email address</a>.</p>
<p>If you have already used git, chances are you have the above already set-up, and you can continue on.</p>
<p>Create an empty folder where your kart projects will live and move into it:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> kart-workflow <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> kart-workflow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As with git, there are different ways in which to get started with kart. Here we will take a look at the most likely (in our opinion) cases:</p>
<ol type="1">
<li><p>We have already existing data and we want to start versioning from scratch.</p></li>
<li><p>We have versioned data already existing on a remote repository and we want to import those data on our machine.</p></li>
</ol>
</section>
<section id="sec-https-ssh" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="sec-https-ssh"><span class="header-section-number">3.2</span> A word about HTTPS and SSH</h2>
<p>HTTPS connection to github and usually other forges requires <a href="https://docs.github.com/en/get-started/getting-started-with-git/why-is-git-always-asking-for-my-password">additional steps</a> to avoid having git prompting you with a username and password request every time you interact with the server. This is usually solved by setting-up a <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens">Personal Access Token</a> or by <a href="https://docs.github.com/en/get-started/getting-started-with-git/caching-your-github-credentials-in-git">caching your credentials in Git</a>. Note that failing to cache or save the credentials on your machine in some ways may result in an error when pushing to a remote repository from the QGIS interface.</p>
<p>For a more seamsless experience (in our opinion), you can follow <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">this guide</a> to setup an SSH key pair for Github, but guides are also available for <a href="https://docs.gitlab.com/ee/user/ssh.html">Gitlab</a> and <a href="https://docs.codeberg.org/security/ssh-key/">Codeberg</a>.</p>
<section id="generating-ssh-keys-optional" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="generating-ssh-keys-optional"><span class="header-section-number">3.2.1</span> Generating SSH keys (Optional)</h3>
<p>The guides above for creating and adding an SSH key should be exhaustive enough, but we can repeat some steps here. These steps below are general but have been reproduced on MacOS only.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have no previous experience, follow the guide above, these steps are not meant to replace it.</p>
</div>
</div>
<ol type="1">
<li><p>Generate a new ssh key <code>ssh-keygen -t ed25519 -C "your_email@example.com"</code> (the mail should be the same used for your github account) and follow the on-screen instructions for inputting a passphrase.</p></li>
<li><p>Ensure the ssh-agent is running <code>eval "$(ssh-agent -s)"</code></p></li>
<li><p>If you are on macOS 10.12.2 or later, manually edit the ~/.ssh/config file as explained in the <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent?platform=mac#adding-your-ssh-key-to-the-ssh-agent">same guide</a>.</p></li>
<li><p>Add the ssh key to the ssh-agent <code>ssh-add ~/.ssh/id_ed25519</code> (if you are on macOS, you can store the ssh passphrase in your keychain by running <code>ssh-add --apple-use-keychain ~/.ssh/id_ed25519</code>)</p></li>
<li><p>Add the key to your github account following the <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">respective guide</a>.</p></li>
</ol>
</section>
</section>
<section id="sec-kart-empty" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="sec-kart-empty"><span class="header-section-number">3.3</span> Example 1: use an empty Kart repository</h2>
<section id="download-data" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="download-data"><span class="header-section-number">3.3.1</span> Download data</h3>
<p>Download the sample data. You can download this file anywhere on your machine.</p>
<p>You can get the data from the same folder where this tutorial lives, by going to <a href="https://github.com/UnitoAssyrianGovernance/kart4arch/raw/main/static/kart-workflow-example.gpkg">this link</a>.</p>
<p>Alternatively, you can use the following CLI tools by pasting the commands in your terminal (Aria2 is likely not installed in your system).</p>
<p><strong>Wget</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://github.com/UnitoAssyrianGovernance/kart4arch/raw/main/static/kart-workflow-example.gpkg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Aria2</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aria2c</span> https://github.com/UnitoAssyrianGovernance/kart4arch/raw/main/static/kart-workflow-example.gpkg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Curl</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-O</span> https://github.com/UnitoAssyrianGovernance/kart4arch/raw/main/static/kart-workflow-example.gpkg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sec-kart-import" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="sec-kart-import"><span class="header-section-number">3.3.2</span> Import data in Kart</h3>
<p>Create an empty folder on your machine and move inside that folder (you can use “kart-tutorial” or replace it with your own folder name). Be sure to copy the absolute path of where you saved your geopackage before (the .gpkg extension <strong>MUST</strong> be included).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> init kart-tutorial <span class="at">--import</span> GPKG:path/to/your/geopackage.gpkg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For example, if you created the <code>kart-workflow</code> folder in the above steps, and you are on MacOS, your command will look like (run inside the <code>kart-workflow</code> folder):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> init kart-tutorial <span class="at">--import</span> GPKG:kart-workflow-example.gpkg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The terminal should output something like this (cut for convenience, your output will be longer)</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Initialized</span> empty Git repository in path/to/kart-workflow/kart-tutorial/.kart/</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Starting</span> git-fast-import...</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Importing</span> 4 features from kart-workflow-example.gpkg:archaeo_locationquality to archaeo_locationquality/ ...</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Added</span> 4 Features to index in 0.0s</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Overall</span> rate: 1390 features/s<span class="er">)</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Closed</span> in 0s</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Importing</span> 106 features from kart-workflow-example.gpkg:archaeo_periodisation to archaeo_periodisation/ ...</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Added</span> 106 Features to index in 0.0s</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Overall</span> rate: 21077 features/s<span class="er">)</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Closed</span> in 0s</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="ex">[...]</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Creating</span> GPKG working copy at kart-tutorial.gpkg ...</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> features for dataset 1 of 12: archaeo_status</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="ex">archaeo_status:</span> 100%<span class="kw">|</span><span class="ex">█████████████████████████████████████████████████████████████████</span><span class="kw">|</span> <span class="ex">8/8</span> [00:00<span class="op">&lt;</span>00:00, 11679.23F/s]</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="ex">[...]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="sec-clone-repo" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="sec-clone-repo"><span class="header-section-number">3.4</span> Example 2: Clone an existing Kart repository</h2>
<p><strong>Do not</strong> use standard git commands (<code>git clone</code>) or Github CLI (<code>gh repo clone</code>) or any other similar commands or CLI tools to clone the repository, as this will not work as intended. Use only the <code>kart clone</code> command.</p>
<section id="sec-clone" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="sec-clone"><span class="header-section-number">3.4.1</span> Clone the repository</h3>
<p>We provide a versioned <a href="https://github.com/UnitoAssyrianGovernance/kart-tutorial-dataset">github repo</a> ready to clone.</p>
<section id="sec-clone-https" class="level4" data-number="3.4.1.1">
<h4 data-number="3.4.1.1" class="anchored" data-anchor-id="sec-clone-https"><span class="header-section-number">3.4.1.1</span> Cloning with HTTPS</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> clone https://github.com/UnitoAssyrianGovernance/kart-tutorial.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can use your own folder name instead of the default “kart-tutorial” by adding a name at the end of the command, e.g.&nbsp;<code>kart clone https://github.com/UnitoAssyrianGovernance/kart-tutorial.git kartproject</code></p>
</div>
</div>
</section>
<section id="sec-clone-ssh" class="level4" data-number="3.4.1.2">
<h4 data-number="3.4.1.2" class="anchored" data-anchor-id="sec-clone-ssh"><span class="header-section-number">3.4.1.2</span> Cloning with SSH</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> clone git@github.com:UnitoAssyrianGovernance/kart-tutorial.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="sec-working-kart" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="sec-working-kart"><span class="header-section-number">3.5</span> Working with Kart</h2>
<p>Run <code>kart status</code> , if you see something like</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">On</span> branch main</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Nothing</span> to commit, working copy clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>you are good to go, the repository has been correctly initialized or cloned. If not, please repeat the above steps carefully.</p>
<section id="sec-kart-plugin-install" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="sec-kart-plugin-install"><span class="header-section-number">3.5.1</span> Install the Kart QGIS Plugin</h3>
<p>Kart comes with a useful plugin for QGIS. The source code for this plugin is available on <a href="https://github.com/koordinates/kart-qgis-plugin">Github</a>. To install the latest version of the plugin, use the QGIS Plugin Manager and search for the Kart plugin. Alternatively, you can get the latest version from the <a href="https://github.com/koordinates/kart-qgis-plugin/releases/latest">release page</a>, then open the QGIS Plugin manager and install the downloaded zip file.</p>
<p>As long as you have kart installed, the plugin can also take care of creating a new repo, cloning an existing one (i.e.&nbsp;the steps we did above), etc. The plugin <strong>has an excellent documentation with substantial graphical examples, so we link to the <a href="https://github.com/koordinates/kart-qgis-plugin/blob/main/docs/index.md">official docs</a> instead of rewriting our own.</strong></p>
</section>
<section id="set-up-the-plugin" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="set-up-the-plugin"><span class="header-section-number">3.5.2</span> Set up the plugin</h3>
<p>Not much setup is needed, the plugin should identify the kart binary automatically. If not, go to <em>Plugins &gt; Kart &gt; Settings</em> menu to open the settings dialog. In the <em>Kart executable folder</em> field, enter the path to your Kart executable. If the Kart folder is not configured, the Kart plugin will use the default install locations, as follows:</p>
<ul>
<li><p><strong>Windows</strong>: <code>%PROGRAMFILES%\Kart\</code></p></li>
<li><p><strong>OSX</strong>: <code>/Applications/Kart.app/Contents/MacOS/</code></p></li>
<li><p><strong>Linux</strong>: <code>/opt/kart/</code></p></li>
</ul>
<p>We also recommend toggling off the option “Commit automatically after closing editing”. Depending on your editing workflow, you might end up with hundreds of commits adding one point each without realizing. <strong>Of course, this means that you will have to remember to commit your edits manually.</strong></p>
<p>When changes have been done, close the plugin dialog box with “Ok”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-settings.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="img/kart-settings.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
<section id="connect-to-a-local-repository" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="connect-to-a-local-repository"><span class="header-section-number">3.5.3</span> Connect to a local repository</h3>
<p>If a side panel has not already appeared, click on <em>Plugins &gt; Kart &gt; Repositories</em> to open the kart panel. The panel will look empty, but we will populate it with the repository we created before.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="img/kart-panel.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>In order to do so, right click on “Repositories”. You will see a list of options: the last two (<em>Create new repository</em> and <em>Clone repository</em>) are graphical replacement to the steps we did before (<a href="#sec-kart-empty" class="quarto-xref">Section&nbsp;3.3</a> and <a href="#sec-clone-repo" class="quarto-xref">Section&nbsp;3.4</a>).</p>
<p>Click on <em>Add existing repository…</em> and navigate to the <em>kart-workflow</em> folder we created before, then click on “Open”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-right-click.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="img/kart-panel-right-click.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>You will see the repository path now listed inside the panel under the name <code>path/kart-workflow/kart-tutorial [main]</code>. The <code>[main]</code> bit indicates the branch on which we are working (just as the git branches, more on this on the <a href="https://docs.kartproject.org/en/latest/pages/quick_guide.html#branching">kart documentation</a> and below in <a href="#sec-branching" class="quarto-xref">Section&nbsp;3.6.1</a>).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-expand.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="img/kart-panel-expand.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For more information on the data, see the Appendix or our <a href="https://github.com/UnitoAssyrianGovernance/.github/wiki/GIS-Vector-Data#main-layer-table-structure">wiki section</a>.</p>
</div>
</div>
</section>
<section id="load-data-inside-the-project" class="level3" data-number="3.5.4">
<h3 data-number="3.5.4" class="anchored" data-anchor-id="load-data-inside-the-project"><span class="header-section-number">3.5.4</span> Load data inside the project</h3>
<p>What you connected to is what kart calls <a href="https://docs.kartproject.org/en/latest/pages/quick_guide.html#workflow">working copy</a>, i.e.&nbsp;a file living on your computer that you can interact with through GIS. Kart uses different <a href="https://docs.kartproject.org/en/latest/pages/wc_types.html">working copy types</a>, in our case the <a href="https://docs.kartproject.org/en/latest/pages/wc_types/gpkg_wc.html">Geopackage working copy</a>.</p>
<p>To add the layers to our QGIS project, expand the repository tree by clicking on the arrow button on the left in the kart panel. Right-click on the <code>archaeo_sites</code> layer and click on <em>Add to QGIS Project</em>. A point layer should appear on the map and the CRS should change to EPSG:32636. Add also all the other layers (you should have 10 tabular layer and another 1 geometry layer. Add <u>all of them</u> except the <code>layer_styles</code> layer. These table layer are background data useful for populating records in the main layer (archaeo_sites) through <a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_vector/vector_properties.html#edit-widgets">QGIS value relation widgets</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-add-project.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="img/kart-panel-add-project.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
<section id="sec-add-geom" class="level3" data-number="3.5.5">
<h3 data-number="3.5.5" class="anchored" data-anchor-id="sec-add-geom"><span class="header-section-number">3.5.5</span> Add new geometry to existing layers</h3>
<p>You can now proceed to add new data as you would do normally in QGIS. Toggle the editing for the <code>archaeo_sites</code> layer and click on the <em>Add Point Feature</em> button. Click anywhere and add a new point. Fill the attribute table however you like. The tab structure you will see in the new feature prompt is thank to <a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_vector/vector_properties.html#attributes-form-properties">QGIS attribute form feature</a>, and because the style of the layer is saved inside the geopackage, and versioned in kart as well (this was the <code>layer_styles</code> layer present in the repository listing in the kart panel.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/qgis-add-new-feature.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="img/qgis-add-new-feature.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>Save the edits by either closing the editing tool or clicking on the <em>Save Layer Edits</em> button.</p>
</section>
<section id="edit-an-existing-geometry" class="level3" data-number="3.5.6">
<h3 data-number="3.5.6" class="anchored" data-anchor-id="edit-an-existing-geometry"><span class="header-section-number">3.5.6</span> Edit an existing geometry</h3>
<p>Let’s edit an existing point now, for example by changing its position and modifying some attributes. Use the <a href="https://docs.qgis.org/3.34/en/docs/user_manual/introduction/general_tools.html#identify">identify features tool</a> to quickly access the attribute table of a point of your choice, and right click on the identify panel to bring up a contextual menu. From this menu select <em>Edit Feature Form</em>. Edit the attribute table, e.g.&nbsp;changing the site type or the periodization, and saving your edits.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/qgis-identify-attr-table.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="img/qgis-identify-attr-table.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/qgis-attr-table.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="img/qgis-attr-table.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>Now let’s also change the location of one of the points. It can either be the same one or another, but for an easier visualization later, it might be best to edit points near the one we added before. Use the move feature tool to do it and move a point a bit further from its actual location, saving the edits after.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/qgis-move-feature.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="img/qgis-move-feature.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
<section id="inspect-working-copy-changes" class="level3" data-number="3.5.7">
<h3 data-number="3.5.7" class="anchored" data-anchor-id="inspect-working-copy-changes"><span class="header-section-number">3.5.7</span> Inspect working copy changes</h3>
<p>One of the interesting aspects of Kart is the possibility of inspecting changes before commits. The QGIS plugin in particular offers a way of graphically visualize changes, both on a 2D map or in a table layout. To do so, return to the kart repository panel and right-click on the repository name, then click on the <em>Show working copy changes…</em> button (you can also right-click on a single layer to inspect changes only for that one).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-show-wc-changes.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="img/kart-panel-show-wc-changes.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>The visual diff viewer panel will open. On the left we can see (in a tree-like structure) the layer that was edited (archaeo_sites, there would be more if we had edited more than one layer), the type of change (Added, Modified)m and the primary key of the added/modified entry. On the right, there are two types of diffs available, the Attributes table, and the Geometries tab. For the Added feature, the attribute table will be all green (as these are all new entries), and the geometry tab will not be much useful. However, if we switch to the <em>Modified</em> features, we can see that kart highlights the rows that have been modified in a convenient table with Old/New value pairs.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-diff-attributes.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="img/kart-diff-attributes.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>If we switch to the Geometries tab instead, and select the point that we have moved from the list on the left, then we will see how Kart highlights with transparency the previous location of the geometry/nodes and in a darker color the new location.</p>
<p>On the top of the Geometries tab, there are also two dropdown dialogs, one (<em>Additional Layers</em>) related to the layer we want to show in the Diff Viewer <u>in addition to the modified geometries</u> (options are: Project Layer, OSM Basemap, No additional layers), and another (<em>Diff type</em>) related to how we want to visualize the Diff (options are: Transparency, Swipe, Per-vertex diff). We found both transparency and per-vertex diff to be particularly useful in case of polygon geometries.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-diff-geometry.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="img/kart-diff-geometry.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>Note that the kart CLI also offers a way to inspect changes to the working copy, through the <code>kart status</code> and <code>kart diff</code> <a href="https://docs.kartproject.org/en/latest/pages/basic_usage_tutorial.html#making-and-committing-changes">commands</a>. For example, for the edits that we just made the output would be something similar:</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> status</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">On</span> branch main</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Changes</span> in working copy:</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">use</span> <span class="st">"kart commit"</span> to commit<span class="kw">)</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">use</span> <span class="st">"kart restore"</span> to discard changes<span class="kw">)</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">archaeo_sites:</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">feature:</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      <span class="ex">1</span> inserts</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="ex">1</span> updates</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> diff</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="ex">---</span> archaeo_sites:feature:914</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="ex">+++</span> archaeo_sites:feature:914</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>                                     Type = Settlement</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                     Type = Fortified Settlement</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>                               Morphology = Flat site on natural mound</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                               Morphology = Mound/Tell</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>                                   Period = Roman-Byzantine</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                   Period = Hellenistic</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>                                StartDate = <span class="at">-63</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                StartDate = <span class="at">-332</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="ex">-</span>                                  EndDate = 638</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                  EndDate = <span class="at">-63</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="ex">+++</span> archaeo_sites:feature:1103</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                      fid = 1103</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                 geometry = POINT<span class="er">(</span><span class="ex">...</span><span class="kw">)</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                     Name = A new point</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                  NameAlt = ␀</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                              AncientName = ␀</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                     Type = Settlement</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                               Morphology = Flat site</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                   Period = Hellenistic</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                StartDate = <span class="at">-332</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                  EndDate = <span class="at">-63</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                            ArchaeoStatus = Surveyed</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                 Latitude = ␀</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                Longitude = ␀</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                 Northing = ␀</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                  Easting = ␀</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                  LocQual = A</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                   SizeHa = ␀</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                 SizeQual = C</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                               SiteHeight = ␀</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                   Source = Archaeological Survey of Israel</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                    Pages = ␀</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                    Notes = ␀</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                  Subtype = {<span class="st">"hamlet"</span>}</span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                AltSource = ␀</span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                           AltSourcePages = ␀</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                              AltSourceID = ␀</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                AltSizeHa = ␀</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                              AltSizeQual = ␀</span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span>                                 SourceID = 1kart status</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="commit-working-copy-changes" class="level3" data-number="3.5.8">
<h3 data-number="3.5.8" class="anchored" data-anchor-id="commit-working-copy-changes"><span class="header-section-number">3.5.8</span> Commit working copy changes</h3>
<p>Now that we inspected the changes made during editing, we can commit them, just like git. In QGIS, go back to the kart repositories panel and right-click on our repository, then select <em>Commit working copy changes…</em> (you can also discard them if you noticed some errors). A dialog will pop-up prompting you to enter a commit message. Write a descriptive commit message and then click on “Ok”. A green message at the top should inform you that the changes have been committed successfully (Changes correctly commited).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-commit.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="img/kart-panel-commit.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>You can achieve the same by using the CLI through the command <code>kart commit</code> (<a href="https://docs.kartproject.org/en/latest/pages/command_reference.html#commit-changes-to-a-working-copy">relevant documentation</a>).</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> commit <span class="at">-m</span> <span class="st">'YOUR COMMIT MESSAGE'</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[main</span> be39e89] your commit message</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">archaeo_sites:</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">feature:</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="ex">1</span> inserts</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">2</span> updates</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Date:</span> Wed Apr 10 16:40:04 2024 +0200</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Before proceeding
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add a couple more points or modify existing ones, and make at least other two-three commits, by repeating the same steps above. You can also edit different layers, such has the table layers, or the survey_areas layers.</p>
</div>
</div>
</section>
<section id="inspect-the-commit-tree" class="level3" data-number="3.5.9">
<h3 data-number="3.5.9" class="anchored" data-anchor-id="inspect-the-commit-tree"><span class="header-section-number">3.5.9</span> Inspect the commit tree</h3>
<p>Now that we have more than just a couple of commits, we can use the visual log to inspect commits to our main branch. To access the log, right-click on our repository in the kart panel and click on <em>Show log…</em></p>
<p>The log panel will appear (if you have worked with VSCode or any other editor providing a git-tree functionality, this will look very familiar). For now it will look rather simple as we are directly committing on a single branch and we have few commits. The corresponding command for the CLI is <code>kart log</code> (note: if you are using pagers for git, these will not work with kart of course)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-log.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="img/kart-log.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
<section id="inspect-changes-introduced-in-a-specific-commit-and-other-options" class="level3" data-number="3.5.10">
<h3 data-number="3.5.10" class="anchored" data-anchor-id="inspect-changes-introduced-in-a-specific-commit-and-other-options"><span class="header-section-number">3.5.10</span> Inspect changes introduced in a specific commit (and other options)</h3>
<p>In the QGIS plugin, we can inspect, using the Visual Diff tool, changes introduced by each commit we made. We can bring up a contextual menu by right-clicking on a commit, and a number of options will show. We will not inspect all the options visible in the image below, but they should be self-explanatory, especially if you are familiar with git.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-log-right-click.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="img/kart-log-right-click.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
</section>
<section id="sec-collaboration" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="sec-collaboration"><span class="header-section-number">3.6</span> Collaborating with Kart</h2>
<p>While kart is perfectly usable on a local machine only, the goal here is to collaborate with other people. In our workflow, every person can make edits to the layers that need to be worked on. Git is, in general, a very good collaboration tool, and thus kart potentially offers similar advantages. We will explore a very simple worklow: we will simulate one colleague creating a secondary branch from <code>main</code>, adds the edits needed, and then merge back into <code>main</code>, where another colleague have already added geometries to the same layers. Since we are using a geopackage, we will have to deal with conflicts, so we will explore that too.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Here we are using the <code>main</code> branch as an example to avoid too much redundancy, but this is usually <strong>not a good practice</strong>, as usually is best to have everyone working on secondary branches. As suggested in <a href="https://github.com/koordinates/kart/issues/814#issuecomment-1498167436">this comment</a>, it is recommended that one user will do the merge, push the changes, and any other user will use the merged branch as starting point for any new edits in order to avoid further conflicts. This means that after the merge into main is completed and the updated main has been pushed to remote, new edits <strong>should be done on new branches created from the updated main branch</strong> (after updating the local main branch with <code>kart pull</code>).</p>
</div>
</div>
<section id="sec-branching" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="sec-branching"><span class="header-section-number">3.6.1</span> Branching</h3>
<p>Branching is a common way to implement features and changes isolated from the main working tree and from other people working on the same dataset. The <code>main</code> branch is the default branch upon repository creation.</p>
<p>In order to create a new branch, you can use the graphical plugin by right-clicking on the repository name and then click on <em>Switch branch..</em> On the the new dialog click on <em>Create New</em>. In the new dialog pop-up select the name of the new branch (e.g.&nbsp;<code>dev</code>) and then click on <em>OK</em>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-branch.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="img/kart-panel-branch.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-switch-new.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="img/kart-panel-switch-new.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>You can reproduce the exact same behavior with less clicks using the following command in your terminal when in the kart repo: <code>kart checkout -b dev</code>.</p>
<p>Your worktree will switch to the new branch automatically. If you need to switch back to <code>main</code> again, from the plugin panel use the same <em>Switch branch..</em> option and select <code>main</code> from the dropdown menu. From the CLI you can use <code>kart switch main</code> or <code>kart checkout main</code>.</p>
<p>If you use the CLI, the changes should be immediately visible in the plugin panel in QGIS, if that’s not the case, you can refresh using <code>F5</code> or by right-clicking on the repo and click <em>Refresh</em>.</p>
<p>You can also see the two branches (at the same point in the kart tree) using the <em>Show log..</em> button from the kart repo panel.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-branches-log.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="img/kart-panel-branches-log.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<blockquote class="blockquote">
<p>For more general information about branches: see the <a href="https://github.com/koordinates/kart-qgis-plugin/blob/main/docs/index.md#working-with-branches">Kart QGIS Plugin docs</a> and the <a href="https://docs.kartproject.org/en/latest/pages/quick_guide.html#branching">Kart docs</a> and <a href="https://docs.kartproject.org/en/latest/pages/command_reference.html#branching-and-merging">command reference</a>.</p>
</blockquote>
<section id="add-features-on-the-new-branch" class="level4" data-number="3.6.1.1">
<h4 data-number="3.6.1.1" class="anchored" data-anchor-id="add-features-on-the-new-branch"><span class="header-section-number">3.6.1.1</span> Add features on the new branch</h4>
<p>Let’s now add 3 new points to the <em>archaeo_sites</em> layer while on the <code>dev</code> branch. The procedure is the same as the one highlighted in the previous sections (<a href="#sec-add-geom" class="quarto-xref">Section&nbsp;3.5.5</a>). Let’s also commit this changes and inspect the worktree to see that the <code>dev</code> branch is now ahead of <code>main</code> by 1 commit.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-dev-branch-ahead.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="img/kart-panel-dev-branch-ahead.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
<section id="add-features-to-the-main-branch" class="level4" data-number="3.6.1.2">
<h4 data-number="3.6.1.2" class="anchored" data-anchor-id="add-features-to-the-main-branch"><span class="header-section-number">3.6.1.2</span> Add features to the main branch</h4>
<p>To simulate a collaborative situation, switch back to the <code>main</code> branch (using the plugin interface of <code>kart switch</code>) and add 2 points to the same <em>archaeo_sites</em> layer and commit our changes.</p>
</section>
</section>
<section id="sec-merging" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="sec-merging"><span class="header-section-number">3.6.2</span> Merging</h3>
<p>We want our changes on the <code>dev</code> branch to be incorporated on the <code>main</code> branch. To do this we can use the graphical plugin to start a merge. While on the <code>main</code> branch, right-click on the repository and select <em>Merge into current branch..</em> In the new panel you can provide a merge message and select other options, but for now let’s just make sure to select <code>dev</code> from the dropdown corresponding to <strong>Branch.</strong></p>
<p>You can do the same in the terminal by using <code>kart merge dev</code>, make sure you are on the <code>main</code> branch.</p>
<p>If there are no conflicts, kart will merge using the fast-forward option(thus we will not find a “merge” commit in your commit history) and our branch main will be updated with the edits from the other branch. However, this is not the case now.</p>
<p>If you did like we did above, you will likely see a message telling you that there were conflicts during the merge, and that these conflicts need to be resolved before continuing with the merge.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-conflicts.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="img/kart-panel-conflicts.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>If you use the command line, you will receive a similar message:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> merge dev</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Merging</span> branch <span class="st">"dev"</span> into main</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Conflicts</span> found:</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="ex">archaeo_sites:</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">archaeo_sites:feature:</span> 2 conflicts</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Repository</span> is now in <span class="st">"merging"</span> state.</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="ex">View</span> conflicts with <span class="kw">`</span><span class="ex">kart</span> conflicts<span class="kw">`</span> and resolve them with <span class="kw">`</span><span class="ex">kart</span> resolve<span class="kw">`</span>.</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Once</span> no conflicts remain, complete this merge with <span class="kw">`</span><span class="ex">kart</span> merge <span class="at">--continue</span><span class="kw">`</span>.</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Or</span> use <span class="kw">`</span><span class="ex">kart</span> merge <span class="at">--abort</span><span class="kw">`</span> to return to the previous state.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sec-conflicts" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="sec-conflicts"><span class="header-section-number">3.6.3</span> Dealing with conflicts</h3>
<p>When conflicts are encountered, the repository enters into a <strong>merging</strong> state. In this state no changes can be made to the dataset until the conflicts are resolved. Three options are available to us:</p>
<ol type="1">
<li>Solve the conflicts</li>
<li>Continue merge (this will not work until conflicts are solved)</li>
<li>Abort the merge (return to the previous state before the merge command)</li>
</ol>
<p>We want to solve our conflicts. When working with geopackages, the most likely conflict comes from conflicting primary keys (in the <code>fid</code> field).</p>
<section id="viewing-conflicts" class="level4" data-number="3.6.3.1">
<h4 data-number="3.6.3.1" class="anchored" data-anchor-id="viewing-conflicts"><span class="header-section-number">3.6.3.1</span> Viewing conflicts</h4>
<p>To solve our conflicts we need first to see what is actually conflicting. With the QGIS plugin, right click on the repository and select <em>Resolve conflicts…</em></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Currently we are unable to access the graphical tool due to a possible bug in kart, thus we will continue with the CLI only. We will update this tutorial with the relevant info once we get past this issue. If you don’t want to use the CLI, you can try following the <a href="https://github.com/koordinates/kart-qgis-plugin/blob/main/docs/index.md#working-with-branches">kart plugin docs</a> about solving conflicts and then continue on to the next section.</p>
</div>
</div>
<p>To see the conflicts on the CLI, use <code>kart conflicts</code> to generate a list of conflicting features. While not immediately noticeable, you will see that each feature has a <code>:ours</code> or <code>:theirs</code> after its name, indicating at which branch they pertain, <code>ours</code> meaning the branch you are currently on, and <code>theirs</code> meaning the branch you are mergin from. In our case, ours is <code>main</code> and theirs is yourbranchname (or how your feature branch is called). This view does not really tell you which fields are conflicting, but if you look at the <code>fid</code> you will see that they are duplicated.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> conflicts</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">archaeo_sites:</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">archaeo_sites:feature:</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">archaeo_sites:feature:1106:</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>            <span class="ex">archaeo_sites:feature:1106:ours:</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="ex">fid</span> = 1106</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">geometry</span> = POINT<span class="er">(</span><span class="ex">...</span><span class="kw">)</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Name</span> = A site on main branch</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">NameAlt</span> = ␀</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AncientName</span> = ␀</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Type</span> = Building</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">Morphology</span> = Flat site</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Period</span> = Roman</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">StartDate</span> = <span class="at">-63</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">EndDate</span> = 324</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>                           <span class="ex">ArchaeoStatus</span> = Surveyed</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Latitude</span> = ␀</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">Longitude</span> = ␀</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Northing</span> = ␀</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Easting</span> = ␀</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">LocQual</span> = A</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">SizeHa</span> = ␀</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SizeQual</span> = C</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">SiteHeight</span> = ␀</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Source</span> = kart4arch2024</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Pages</span> = ␀</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Notes</span> = ␀</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Subtype</span> = {<span class="st">"farm"</span>}</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSource</span> = ␀</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">AltSourcePages</span> = ␀</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSourceID</span> = ␀</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSizeHa</span> = ␀</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSizeQual</span> = ␀</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SourceID</span> = 3</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>            <span class="ex">archaeo_sites:feature:1106:theirs:</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>                                     <span class="ex">fid</span> = 1106</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">geometry</span> = POINT<span class="er">(</span><span class="ex">...</span><span class="kw">)</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Name</span> = A first site on dev</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">NameAlt</span> = ␀</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AncientName</span> = ␀</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Type</span> = Settlement</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">Morphology</span> = Flat site</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Period</span> = Late Bronze Age</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">StartDate</span> = <span class="at">-1550</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">EndDate</span> = <span class="at">-1150</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>                           <span class="ex">ArchaeoStatus</span> = Surveyed</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Latitude</span> = ␀</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">Longitude</span> = ␀</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Northing</span> = ␀</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Easting</span> = ␀</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">LocQual</span> = A</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">SizeHa</span> = ␀</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SizeQual</span> = C</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">SiteHeight</span> = ␀</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Source</span> = kart4arch2024</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Pages</span> = ␀</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Notes</span> = ␀</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Subtype</span> = {<span class="st">"farm"</span>}</span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSource</span> = ␀</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">AltSourcePages</span> = ␀</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSourceID</span> = ␀</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSizeHa</span> = ␀</span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSizeQual</span> = ␀</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SourceID</span> = 5</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>        <span class="ex">archaeo_sites:feature:1107:</span></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>            <span class="ex">archaeo_sites:feature:1107:ours:</span></span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>                                     <span class="ex">fid</span> = 1107</span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">geometry</span> = POINT<span class="er">(</span><span class="ex">...</span><span class="kw">)</span></span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Name</span> = Another site on main branch</span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">NameAlt</span> = ␀</span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AncientName</span> = ␀</span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Type</span> = Settlement</span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">Morphology</span> = Flat site on natural mound</span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Period</span> = Byzantine</span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">StartDate</span> = 324</span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">EndDate</span> = 638</span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>                           <span class="ex">ArchaeoStatus</span> = Surveyed</span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Latitude</span> = ␀</span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">Longitude</span> = ␀</span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Northing</span> = ␀</span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Easting</span> = ␀</span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">LocQual</span> = A</span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">SizeHa</span> = ␀</span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SizeQual</span> = C</span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">SiteHeight</span> = ␀</span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Source</span> = kart4arch2024</span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Pages</span> = ␀</span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Notes</span> = ␀</span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Subtype</span> = {<span class="st">"hamlet"</span>}</span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSource</span> = ␀</span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">AltSourcePages</span> = ␀</span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSourceID</span> = ␀</span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSizeHa</span> = ␀</span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSizeQual</span> = ␀</span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SourceID</span> = 4</span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a>            <span class="ex">archaeo_sites:feature:1107:theirs:</span></span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a>                                     <span class="ex">fid</span> = 1107</span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">geometry</span> = POINT<span class="er">(</span><span class="ex">...</span><span class="kw">)</span></span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Name</span> = A second site on dev</span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">NameAlt</span> = ␀</span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AncientName</span> = ␀</span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a>                                    <span class="ex">Type</span> = Fortified Settlement</span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">Morphology</span> = Mound/Tell</span>
<span id="cb16-104"><a href="#cb16-104" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Period</span> = Iron Age II</span>
<span id="cb16-105"><a href="#cb16-105" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">StartDate</span> = <span class="at">-950</span></span>
<span id="cb16-106"><a href="#cb16-106" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">EndDate</span> = <span class="at">-586</span></span>
<span id="cb16-107"><a href="#cb16-107" aria-hidden="true" tabindex="-1"></a>                           <span class="ex">ArchaeoStatus</span> = Surveyed</span>
<span id="cb16-108"><a href="#cb16-108" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Latitude</span> = ␀</span>
<span id="cb16-109"><a href="#cb16-109" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">Longitude</span> = ␀</span>
<span id="cb16-110"><a href="#cb16-110" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">Northing</span> = ␀</span>
<span id="cb16-111"><a href="#cb16-111" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Easting</span> = ␀</span>
<span id="cb16-112"><a href="#cb16-112" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">LocQual</span> = A</span>
<span id="cb16-113"><a href="#cb16-113" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">SizeHa</span> = ␀</span>
<span id="cb16-114"><a href="#cb16-114" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SizeQual</span> = C</span>
<span id="cb16-115"><a href="#cb16-115" aria-hidden="true" tabindex="-1"></a>                              <span class="ex">SiteHeight</span> = ␀</span>
<span id="cb16-116"><a href="#cb16-116" aria-hidden="true" tabindex="-1"></a>                                  <span class="ex">Source</span> = kart4arch2024</span>
<span id="cb16-117"><a href="#cb16-117" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Pages</span> = ␀</span>
<span id="cb16-118"><a href="#cb16-118" aria-hidden="true" tabindex="-1"></a>                                   <span class="ex">Notes</span> = ␀</span>
<span id="cb16-119"><a href="#cb16-119" aria-hidden="true" tabindex="-1"></a>                                 <span class="ex">Subtype</span> = {<span class="st">"fortification"</span>}</span>
<span id="cb16-120"><a href="#cb16-120" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSource</span> = ␀</span>
<span id="cb16-121"><a href="#cb16-121" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">AltSourcePages</span> = ␀</span>
<span id="cb16-122"><a href="#cb16-122" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSourceID</span> = ␀</span>
<span id="cb16-123"><a href="#cb16-123" aria-hidden="true" tabindex="-1"></a>                               <span class="ex">AltSizeHa</span> = ␀</span>
<span id="cb16-124"><a href="#cb16-124" aria-hidden="true" tabindex="-1"></a>                             <span class="ex">AltSizeQual</span> = ␀</span>
<span id="cb16-125"><a href="#cb16-125" aria-hidden="true" tabindex="-1"></a>                                <span class="ex">SourceID</span> = 6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="solving-conflicts" class="level4" data-number="3.6.3.2">
<h4 data-number="3.6.3.2" class="anchored" data-anchor-id="solving-conflicts"><span class="header-section-number">3.6.3.2</span> Solving conflicts</h4>
<p>We need now to resolve the conflicts. In git you will be thrown in the text editor, but kart lets us choose the way in which to resolve it. However, the way indicated on the official documentation (<a href="https://docs.kartproject.org/en/latest/pages/command_reference.html#resolving-a-conflict"><code>kart revolve --with=(ancestors|ours|theirs|delete)</code></a>) does not include, at the time of writing (2023-12-06) the most suitable option, i.e.&nbsp;automatically renumbering the features. This is instead only documented on a <a href="https://github.com/koordinates/kart/pull/817">pull request</a>, so we report it here too (note that however the option is visible in the <em>man page</em> using <code>kart resolve --help)</code>.</p>
<p>Since Kart version <a href="https://github.com/koordinates/kart/releases/tag/v0.12.3">0.12.3</a>, there is a <code>kart revolve --renumber=(ours|theirs)</code> command that is intended to automatically resolve primary key conflicts during merge operations. The <code>--renumber</code> flag takes one of the two options: <code>ours</code> or <code>theirs</code>, with ours meaning the branch we are currently on, and theirs meaning the branch we are merging from.</p>
<p>Let’s use <code>kart resolve --renumber=theirs</code> or <code>ours</code> by typing the command in our terminal.</p>
<p>We suggest using <code>theirs</code> as to preserve the order of features originally present in the main branch, but feel free to use <code>ours</code> if you prefer (see below).</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>If there is only a partial overlapping of primary keys, kart will merge those keys that can be merged, while the other features will wait for the conflict resolution to be renumbered. This means that if you have some keys in the <code>yourbranchname</code> branch that do not overlap with primary keys in your <code>main</code> branch, and you use <code>theirs</code> as an option for renumbering, these primary keys will be added first after the keys already present in <code>main</code> (as mentioned <a href="https://github.com/koordinates/kart/pull/817">here</a>). This will break the sequential order of features from the secondary branch, however, it is more of a visual issue than a real one, unless you are relying on the order of those primary keys for other operations.</p>
</div>
</div>
<p>After running the command, you should see something like this:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> resolve <span class="at">--renumber</span><span class="op">=</span>theirs</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Resolved</span> 2 conflicts. 0 conflicts to go.</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Use</span> <span class="kw">`</span><span class="ex">kart</span> merge <span class="at">--continue</span><span class="kw">`</span> to complete the merge</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As adivides by the CLI, let’s run <code>kart merge --continue</code> to finish the merge (this can be done also in the graphical plugin).</p>
<section id="sec-text-editors" class="level5" data-number="3.6.3.2.1">
<h5 data-number="3.6.3.2.1" class="anchored" data-anchor-id="sec-text-editors"><span class="header-section-number">3.6.3.2.1</span> A note about terminal text editors</h5>
<p>By default, you will be prompted to insert a commit message inside a terminal text editor. Which text editor this will be is dependent on your machine, OS, and configuration. If you have set the <code>$VISUAL</code> or <code>$EDITOR</code> variables in your shell, then you will know what will be opened. If not, you will either be put inside nano/emacs or vi/vim.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
With some possible differences, the interface will be like this for vi/vim
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/vi_interface.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="vi/vim interface"><img src="img/vi_interface.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="vi/vim interface"></a></p>
</figure>
</div>
<figcaption>vi/vim interface</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
And like this for nano/emacs:
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/nano_interface.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22" title="nano/emacs interface"><img src="img/nano_interface.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="nano/emacs interface"></a></p>
</figure>
</div>
<figcaption>nano/emacs interface</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>You will already have a commit message written for you, something like <code>Merge branch "dev" into main</code>. You can edit the message (see below) or accept the defaul by using <code>ctrl+x</code> in nano/emacs or <code>:wq</code> in vi/vim.</p>
<p>To edit the message in nano, start typing at the top of the top of the file. When you are finished, the menu at the bottom should tell you how to quit and save. Press ctrl+x (the <code>^</code> means ctrl) to exit. When asked to save the buffer, press <code>y</code> to confirm.</p>
<p>To edit the message in vi/vim, press <code>i</code> to be able to type (this might not be necessary). Type the commit message and when satisfied press <code>:q</code> to exit (typing <code>:q!</code> will exit without saving the file).</p>
<p>The text editor will close and the terminal will output the details of the commit and the date, plus some other info.</p>
<p>If everything went well you will see a message like this:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Merging</span> branch <span class="st">"dev"</span> into main</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">No</span> conflicts!</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Merge</span> committed as 890e2455fe81f0e58c5c5bed8cb7010e4fb174f8</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> kart-tutorial.gpkg ..</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And your repo will be available to edit again. Check the features and you will see that the <code>main</code> branch now includes also the ones from <code>dev</code>.</p>
<p>You can inspect the worktree to see how the branches diverged and how the merge commit was created.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-merge-result.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="img/kart-panel-merge-result.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<blockquote class="blockquote">
<p>See also <a href="https://github.com/koordinates/kart-qgis-plugin/blob/main/docs/index.md#working-with-branches">Kart QGIS plugin docs</a> and <a href="https://docs.kartproject.org/en/latest/pages/command_reference.html#resolving-conflicts">Kart docs</a> on resolving conflicts and our<a href="https://github.com/UnitoAssyrianGovernance/.github/wiki/GIS-Vector-Data#dealing-with-conflicts">Wiki on the same topic</a>. A useful <a href="https://github.com/koordinates/kart/issues/814">github issue</a> about solving conflicts in multi-user scenario.</p>
</blockquote>
</section>
</section>
<section id="delete-branches" class="level4" data-number="3.6.3.3">
<h4 data-number="3.6.3.3" class="anchored" data-anchor-id="delete-branches"><span class="header-section-number">3.6.3.3</span> Delete branches</h4>
<p>Now that we have merged the features, we can safely delete the <code>dev</code> branch to clean our kart repository. To our knowledge this option is still not available through the graphical plugin.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You cannot delete the branch you are currently on, so you will need to switch to another branch in order to delete it.</p>
</div>
</div>
<p>To delete a branch you can use this command <code>kart branch -d dev</code> (the <code>d</code> flag stands for <em>delete</em>).</p>
<p>You should see a confirmation message:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Deleted</span> branch dev <span class="er">(</span><span class="ex">was</span> ba24402<span class="kw">)</span><span class="bu">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And you can confirm there is only one branch by running <code>kart branch -v</code> in the terminal:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> branch <span class="at">-a</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> main</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you do not delete you development branch, remember to start new works by creating new branches from the <code>main</code> one, otherwise your might branch from outdated dataset!</p>
</div>
</div>
</section>
</section>
<section id="push-changes-to-a-remote-repository" class="level3" data-number="3.6.4">
<h3 data-number="3.6.4" class="anchored" data-anchor-id="push-changes-to-a-remote-repository"><span class="header-section-number">3.6.4</span> Push changes to a remote repository</h3>
<p>Let’s say you are finishing your work and you want to backup your data outside of your machine, or you need to collaborate remotely with other people, thus you need to use</p>
<section id="connect-to-a-remote-repository" class="level4" data-number="3.6.4.1">
<h4 data-number="3.6.4.1" class="anchored" data-anchor-id="connect-to-a-remote-repository"><span class="header-section-number">3.6.4.1</span> Connect to a remote repository</h4>
<p>Check that the repository has no remotes with <code>kart remotes -v</code>.</p>
<p>If you cloned the repository in the initial steps (<a href="#sec-clone-repo" class="quarto-xref">Section&nbsp;3.4</a>), you might see some remotes (<u>if you don’t, skip this part</u>):</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> remote <span class="at">-v</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>  https://github.com/UnitoAssyrianGovernance/kart-tutorial.git <span class="er">(</span><span class="ex">fetch</span><span class="kw">)</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>  https://github.com/UnitoAssyrianGovernance/kart-tutorial.git <span class="er">(</span><span class="ex">push</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You will not be able to make push to these remotes, but to avoid confusion remove these remotes from kart using the following: <code>kart remote rm origin</code> (don’t worry, this will not impact the repository), and confirm again you have no more remotes using <code>kart remotes -v</code>.</p>
<section id="create-a-remote-repository" class="level5" data-number="3.6.4.1.1">
<h5 data-number="3.6.4.1.1" class="anchored" data-anchor-id="create-a-remote-repository"><span class="header-section-number">3.6.4.1.1</span> Create a remote repository</h5>
<p>Create a remote repository on your forge of choice, in our case Github, by following the respective <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-new-repository">instructions</a>.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>As a general rule of thumb, if you are creating a repository from one online forges, remember to NOT include any README.md, .gitignore, or other files. Best-case scenario they will be ignored by kart, but worst-case they might break your workflow, as kart will recognize an out-of-sync remote with no real means of fixing it.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/github-create-repo.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="img/github-create-repo.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</section>
<section id="connect-with-the-kart-qgis-plugin" class="level5" data-number="3.6.4.1.2">
<h5 data-number="3.6.4.1.2" class="anchored" data-anchor-id="connect-with-the-kart-qgis-plugin"><span class="header-section-number">3.6.4.1.2</span> Connect with the kart QGIS plugin</h5>
<p>To connect to a remote repository through a graphical interface, right-click on the repository panel and click on <em>Push..</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-push.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="img/kart-panel-push.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>In the new dialog, click on <em>Manage remotes</em>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-push-manage.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="img/kart-panel-push-manage.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>In the new dialog, give a name to the Remote (e.g.&nbsp;github or origin) and the URL you will see after creating the new repository in the previous steps. This URL will be something like <code>https://github.com/yourusername/kart-tutorial.git</code> for HTTPS and <code>git@github.com:``yourusername``/kart-tutorial.git</code> for SSH (see above for HTTPS and SSH in <a href="#sec-https-ssh" class="quarto-xref">Section&nbsp;3.2</a>). After adding this information, click on <em>Add New/Save</em> and then on <em>Ok</em> to close the dialog.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/kart-panel-remotes-add.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="img/kart-panel-remotes-add.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>You will be back in the previous panel with the chosen remote added in the dropdown (you can add more than one!).</p>
</section>
<section id="connect-with-the-kart-cli" class="level5" data-number="3.6.4.1.3">
<h5 data-number="3.6.4.1.3" class="anchored" data-anchor-id="connect-with-the-kart-cli"><span class="header-section-number">3.6.4.1.3</span> Connect with the kart CLI</h5>
<p>To add a remote using the CLI, you can use <code>kart remote add origin URL</code>, replacing the URL with the ones mentioned above. Check if the remotes have been added using <code>kart remotes -v</code> once again, you should see two entries with your URL, one for fetch and one for push.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>origin</code> is a convention, you can name your remote however you want, just make sure to use the name you choose in the next commands.</p>
</div>
</div>
</section>
</section>
<section id="push-changes" class="level4" data-number="3.6.4.2">
<h4 data-number="3.6.4.2" class="anchored" data-anchor-id="push-changes"><span class="header-section-number">3.6.4.2</span> Push changes</h4>
<p>If you are using the graphical plugin, in the Push panel, click <em>Ok</em>. A green message should tell you that the push was successful. If you encounter en error saying that the device is not configured, it is likely an HTTPS authentication issue. You have some options:</p>
<ol type="1">
<li>Make sure you are authenticated to github and that git has your credentials stored globally.</li>
<li>Use the CLI</li>
<li>Use SSH (which should be more reliable)</li>
</ol>
<blockquote class="blockquote">
<p>Unfortunately the reason for an error might be a lot, if you encounter some reach out to us and we will help as much as we can :)</p>
</blockquote>
<p>If you are using the CLI, run <code>kart push -u origin main</code> (<strong>origin is the name of the remote, change it accordingly</strong>). If you have not set your credentials before, you will be asked for your forge username and token. If not, you will be able to push and you should see something like this in your terminal:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> push <span class="at">-u</span> origin main</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Enumerating</span> objects: 892, done.</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Counting</span> objects: 100% <span class="er">(</span><span class="ex">892/892</span><span class="kw">)</span><span class="ex">,</span> done.</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> objects: 100% <span class="er">(</span><span class="ex">892/892</span><span class="kw">)</span><span class="ex">,</span> 226.96 KiB <span class="kw">|</span> <span class="ex">113.48</span> MiB/s, done.</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Total</span> 892 <span class="er">(</span><span class="ex">delta</span> 0<span class="kw">)</span><span class="ex">,</span> reused 892 <span class="er">(</span><span class="ex">delta</span> 0<span class="kw">)</span><span class="ex">,</span> pack-reused 0</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> https://github.com/yourusername/kart-tutorial.git</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">*</span> [new branch]      main <span class="at">-</span><span class="op">&gt;</span> main</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="ex">branch</span> <span class="st">'main'</span> set up to track <span class="st">'origin/main'</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Congratulations! your changes have been pushed to a remote repo and are accessible to your collaborators if needed!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the same way, if you know that your remote has more recent changes that your local machine, you can use <code>kart pull</code> or the respective button in the kart plugin to pull changes from remote.</p>
<p>It is always best to pull changes if you are unsure someone made edits before your work!</p>
</div>
</div>
</section>
<section id="addendum-interact-with-remote-branches" class="level4" data-number="3.6.4.3">
<h4 data-number="3.6.4.3" class="anchored" data-anchor-id="addendum-interact-with-remote-branches"><span class="header-section-number">3.6.4.3</span> Addendum: Interact with remote branches</h4>
<section id="push-new-branches-to-remote" class="level5" data-number="3.6.4.3.1">
<h5 data-number="3.6.4.3.1" class="anchored" data-anchor-id="push-new-branches-to-remote"><span class="header-section-number">3.6.4.3.1</span> Push new branches to remote</h5>
<p>When using remote repository and different branches, is likely that you will be pushing this branches to the remote repository. Here we will explain how to interact with them. We will provide only terminal commands for simplicity, but you can refer to the previous sections to replicate this with the graphical plugin.</p>
<p>Let’s create a new branch from <code>main</code> by using <code>kart checkout -b feature</code>.</p>
<p>To make the new branch appear on the remote repository, use the <code>push</code> command again: <code>kart push -u origin feature</code>. You will see something like this:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> push <span class="at">-u</span> origin feature</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Total</span> 0 <span class="er">(</span><span class="ex">delta</span> 0<span class="kw">)</span><span class="ex">,</span> reused 0 <span class="er">(</span><span class="ex">delta</span> 0<span class="kw">)</span><span class="ex">,</span> pack-reused 0</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span> Create a pull request for <span class="st">'feature'</span> on GitHub by visiting:</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span>      https://github.com/yourusername/kart-tutorial/pull/new/feature</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="ex">remote:</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> https://github.com/yourusername/kart-tutorial.git</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a> <span class="ex">*</span> [new branch]      feature <span class="at">-</span><span class="op">&gt;</span> feature</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="ex">branch</span> <span class="st">'feature'</span> set up to track <span class="st">'origin/feature'</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now you can work on your new branch, push to remote and continue your work.</p>
</section>
<section id="pull-new-branches-from-remote" class="level5" data-number="3.6.4.3.2">
<h5 data-number="3.6.4.3.2" class="anchored" data-anchor-id="pull-new-branches-from-remote"><span class="header-section-number">3.6.4.3.2</span> Pull new branches from remote</h5>
<p>You can also pull changes made by another person from another branch to you local machine. To simulate this, let’s head to your forge of choice (in our case github) and create a new branch from the web interface (most forges should have a way to do that, see e.g.&nbsp;the <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-and-deleting-branches-within-your-repository">docs for github</a>).</p>
<p>Create a new branch from Github, using our <code>main</code> branch as source (we can call it <code>remote-branch</code> or anything else you want).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/github-create-new-branch.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="img/github-create-new-branch.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>After that, you can use <code>kart pull</code> to pull information from the remote repository, you should see something like this:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> pull</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a> <span class="ex">*</span> [new branch]      remote-branch <span class="at">-</span><span class="op">&gt;</span> origin/remote-branch</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Merging</span> 890e245 into feature</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Already</span> up to date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And running <code>kart branch -a</code> confirm that everything has been updated correctly:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> branch <span class="at">-a</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> feature</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">main</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">remotes/origin/feature</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">remotes/origin/main</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">remotes/origin/remote-branch</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can see from the above that the <code>remote-branch</code> is only existing on the remote repository, not in your machine (there are two entries for any branch except this one). If you want to work on this branch, you can simply run <code>kart switch remote-branch</code>, and the new branch will be automatically linked to the remote one.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> switch remote-branch</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Creating</span> new branch <span class="st">'remote-branch'</span> to track <span class="st">'origin/remote-branch'</span>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="delete-local-and-remote-branches" class="level5" data-number="3.6.4.3.3">
<h5 data-number="3.6.4.3.3" class="anchored" data-anchor-id="delete-local-and-remote-branches"><span class="header-section-number">3.6.4.3.3</span> Delete local and remote branches</h5>
<p>If you want to delete a local branch that you already pushed on remote, you need some few additional steps.</p>
<ol type="1">
<li>Delete your local development branch with <code>kart branch -d remote-branch</code>, replacing remote-branch with the actual name of your branch. Note that you cannot delete the branch you are currently on, so you will need to switch to another branch in order to delete it.</li>
<li>Use <code>kart push origin --delete remote-branch</code>, replacing remote-branch with the actual name of your development branch.</li>
<li>If you deleted the branch on the remote forge/github before deleting it locally on your machine, the previous command will fail. You will need to update the remote information locally using <code>kart fetch --prune</code>, which will usually tell you that the remote branch is deleted. Then you can proceed to delete the local branch as in the step <code>1</code>.</li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> branch <span class="at">-d</span> remote-branch</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Deleted</span> branch remote-branch <span class="er">(</span><span class="ex">was</span> 890e245<span class="kw">)</span><span class="bu">.</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="ex">kart</span> push origin <span class="at">--delete</span> remote-branch</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> https://github.com/yourusername/kart-tutorial.git</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> <span class="pp">[</span><span class="ss">deleted</span><span class="pp">]</span>         remote-branch</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can go on your forge to see that the changes have been reflected over there too.</p>
</section>
</section>
</section>
</section>
</section>
<section id="tips" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Tips</h1>
<section id="selective-import-tables" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="selective-import-tables"><span class="header-section-number">4.1</span> <strong>Selective import tables</strong></h2>
</section>
<section id="rename-data-on-import" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="rename-data-on-import"><span class="header-section-number">4.2</span> <strong>Rename data on import</strong></h2>
</section>
<section id="create-data-from-qgis-and-start-version-them-with-kart" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="create-data-from-qgis-and-start-version-them-with-kart"><span class="header-section-number">4.3</span> <strong>Create data from QGIS and start version them with kart</strong></h2>
<p>In QGIS, new layers can be safely added to the kart geopackage using the <code>New Geopackage Layer</code> button. However, this layer will not be automatically tracked by kart, which needs to be told manually about their existence:</p>
<p>Since version <code>0.12.3</code> (2023-04-26) kart provides the command <code>kart add-dataset</code>. This command tells kart to track layers that are present in the geopackage, but that were not imported through <code>kart import</code>. This command is mentioned in a <a href="https://github.com/koordinates/kart/issues/830">github issue</a>, but it is not documented yet in the official documentation at the time of writing (2024-04-01), thus we put here a quick reference to document its existence.</p>
<p>The workflow for creating and start versioning new layers in kart is as follows:</p>
<ol type="1">
<li><p>Create a new geopackage layer, either from scratch using the “New Geopackage Layer” dialog, or through the “Save as..” option if you have an existing layer already in your project.</p></li>
<li><p>Open the terminal (the <code>add-dataset</code> is still not implemented in the kart qgis plugin) and navigate to the directory where your kart geopackage is located.</p></li>
<li><p>Check if the layer is indeed present inside the geopackage by running <code>kart status --list-untracked-tables</code>. You should get something along the lines of:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">On</span> branch main</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> branch is up to date with <span class="st">'origin/main'</span>.</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Nothing</span> to commit, working copy clean</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Untracked</span> tables:</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">THE</span> UNTRACKED LAYERS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p>NB: if you don’t see any untracked layers, make sure you created/saved the layer in the correct geopackage! NB: kart refers to Vector data as Table Datasets, which is why in the output you will see “tables” and not “layers” (which is more of a GIS concept).</p>
<ol start="4" type="1">
<li>Run <code>kart add-dataset YOUR-LAYER-NAME</code> (by replacing YOUR-LAYER-NAME with the actual name of the layer), kart will prompt for a commit message before starting to track the layer.</li>
</ol>
<p>Note that this also works for the layer styles when saved to the geopackage using the dialog option “Style -&gt; Save as Default -&gt; Datasource Database” (from the layer properties tab). Styles saved in this way are usually saved in a <code>layer_styles</code> table inside the geopackage. We can run <code>kart add-dataset layer_styles</code> to track any changes to the layer styles (check if the layer exists and if it is indeed untracked first).</p>
<section id="a-note-on-the-commit-message-when-running-kart-add-dataset" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="a-note-on-the-commit-message-when-running-kart-add-dataset"><span class="header-section-number">4.3.1</span> A note on the commit message when running <code>kart add-dataset</code></h3>
<p>You will be thrown in your terminal text editor (see <a href="#sec-text-editors" class="quarto-xref">Section&nbsp;3.6.3.2.1</a> to manage the commit message).</p>
</section>
<section id="addendum---layer-styles" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="addendum---layer-styles"><span class="header-section-number">4.3.2</span> Addendum - layer styles</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that, at the time of writing (2023-11-15), due to a small mishandling of layer_styles schema by QGIS, if your layer name is longer than 30 characters and your style is named with the same name as the layer, you will incur into an error when trying to run <code>kart add-dataset layer_styles</code>. As explained <a href="https://github.com/koordinates/kart/issues/873">in this issue</a>, this is not a kart bug. We recommend keeping the layer style name (or the layer names) below 30 characters to avoid issues.</p>
</div>
</div>
</section>
</section>
</section>
<section id="sec-resources" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Useful Resources</h1>
<ul>
<li><a href="https://kartproject.org/">Kart website</a></li>
</ul>
<section id="documentation" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="documentation"><span class="header-section-number">5.1</span> Documentation</h2>
<ul>
<li><p><a href="https://docs.kartproject.org/en/latest/index.html">Kart documentation</a></p></li>
<li><p><a href="https://docs.kartproject.org/en/latest/pages/command_reference.html">Kart command reference</a></p></li>
<li><p><a href="https://github.com/koordinates/kart-qgis-plugin/blob/main/docs/index.md#kart-plugin-user-documentation">Kart QGIS plugin documentation</a></p></li>
</ul>
</section>
<section id="other-resources" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="other-resources"><span class="header-section-number">5.2</span> Other resources</h2>
<section id="presentations-about-kart" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="presentations-about-kart"><span class="header-section-number">5.2.1</span> Presentations about kart</h3>
<ul>
<li><p>Coup, R. (2022a). <a href="https://www.youtube.com/watch?v=fAIh6p4rczY">Kart: An introduction to practical data versioning for geospatial</a>.</p></li>
<li><p>Coup, R. (2022b). <a href="https://www.youtube.com/watch?v=_7ETwmMlUtY">Kart: A Practical Tool for Versioning Geospatial Data</a>.</p></li>
<li><p>Coup, R. (2023). <a href="https://www.youtube.com/watch?v=AxOTE2CCY3s">2023 QGIS Data Versioning with Kart</a>.</p></li>
<li><p>Olaya, V. (2022). <a href="https://www.youtube.com/watch?v=aABc3JrgJUY">Spatial data versioning with the Kart QGIS Plugin</a>.</p></li>
</ul>
</section>
<section id="guides-and-tutorials-about-git" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="guides-and-tutorials-about-git"><span class="header-section-number">5.2.2</span> Guides and tutorials about Git</h3>
<ul>
<li><p><a href="https://dev.to/jitendrachoudhary/understanding-git-a-beginners-guide-to-version-control-with-visuals-5cbf">Understanding Git: A Beginner’s Guide to Version Control (With Visuals)</a></p></li>
<li><p><a href="https://www.atlassian.com/git">Getting Git Right</a></p></li>
<li><p><a href="https://rogerdudler.github.io/git-guide/index.html">Git: the simple guide</a></p></li>
<li><p><a href="https://git-scm.com/doc">Git Official Documentation with useful resources</a></p></li>
<li><p><a href="https://git-scm.com/doc/ext">Other tutorials from the Git website</a></p></li>
</ul>
</section>
<section id="qgis" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="qgis"><span class="header-section-number">5.2.3</span> QGIS</h3>
<ul>
<li><p><a href="https://qgis.org">QGIS Website</a></p></li>
<li><p><a href="https://docs.qgis.org/latest/en/docs/user_manual/">QGIS User Guide</a></p></li>
<li><p><a href="https://docs.qgis.org/3.34/en/docs/training_manual/">QGIS Training Manual</a></p></li>
<li><p><a href="https://docs.qgis.org/3.34/en/docs/gentle_gis_introduction/">A Gentle Introduction to QGIS</a></p></li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","closeEffect":"zoom","loop":false,"openEffect":"zoom","descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>